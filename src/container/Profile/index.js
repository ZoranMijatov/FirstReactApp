import React, { useState, useEffect } from "react";
import * as Styled from "./Styles";
import { Input } from "../../Form/Styles";
import Astronaut from "./Astronaut.png";
import gsap from "gsap";

const Profile = () => {
  const NasaCard = React.createRef();

  useEffect(() => {
    setNewEmail(localStorage.getItem("username") ?? "")
    const DoB = localStorage.getItem("DoB");
    setDob(DoB)
  }, []);

  const [editEmail, setEditEmail] = useState(true)
  const [editPassword, setEditPassword] = useState(true)
  const [editDoB, setEditDoB] = useState(true)
  const [editOccupation, setEditOccupation] = useState(true)
  const [dob, setDob] = useState("")

  const [newEmail, setNewEmail] = useState("")

  const handleNewEmail = (e) => {
    const newValue = e.target.value
    setNewEmail(newValue);
    localStorage.setItem("username", newValue);
  }

  const lostFocus = () => {
    setEditEmail(true);
  }

  const handleNewInfo = (e) => {
    e.preventDefault();
  }

  return (
    <Styled.MainWrapper>
      <Styled.Wrapper ref={NasaCard}>
        <div className="Banner">
          <svg
            className="Logo"
            viewBox="0 0 110 92"
            height="100"
            width="140"
            xmlns="http://www.w3.org/2000/svg"
          >
            <circle
              cx="50.049"
              cy="45"
              fill="#0b3d91"
              r="40.14"
              stroke="#fff"
              strokeWidth="4"
            />
            <g fill="#fff">
              <circle cx="47.679" cy="12.57" r=".45" />
              <circle cx="52.299" cy="13.17" r=".45" />
              <circle cx="58.359" cy="21.33" r=".45" />
              <circle cx="25.119" cy="63.33" r=".45" />
              <circle cx="26.289" cy="66.93" r=".45" />
              <circle cx="20.709" cy="63.87" r=".337" />
              <circle cx="39.009" cy="70.942" r=".338" />
              <circle cx="67.711" cy="64.98" r=".337" />
              <circle cx="76.052" cy="55.92" r=".338" />
              <circle cx="35.169" cy="23.962" r=".337" />
              <circle cx="44.349" cy="17.22" r=".337" />
              <circle cx="43.352" cy="16.56" r=".337" />
              <circle cx="42.452" cy="15.9" r=".337" />
              <circle cx="36.609" cy="25.703" r=".337" />
              <circle cx="50.131" cy="8.16" r=".337" />
              <circle cx="52.352" cy="17.88" r=".337" />
              <circle cx="48.849" cy="15.982" r=".337" />
              <circle cx="42.849" cy="18.563" r=".337" />
              <circle cx="69.309" cy="73.883" r=".337" />
              <circle cx="24.549" cy="65.61" r=".338" />
              <circle cx="48.009" cy="69.96" r=".338" />
              <circle cx="31.531" cy="65.34" r=".338" />
              <circle cx="34.449" cy="70.103" r=".338" />
              <circle cx="55.929" cy="67.103" r=".337" />
              <circle cx="67.771" cy="60.42" r=".337" />
              <circle cx="76.749" cy="64.522" r=".337" />
              <circle cx="79.809" cy="66.48" r=".337" />
              <circle cx="80.312" cy="61.14" r=".337" />
              <circle cx="35.671" cy="53.58" r=".337" />
              <circle cx="35.799" cy="61.32" r=".45" />
              <circle cx="38.499" cy="67.02" r=".45" />
              <circle cx="70.839" cy="61.08" r=".45" />
              <circle cx="82.479" cy="60.42" r=".45" />
              <circle cx="76.719" cy="57.96" r=".45" />
              <circle cx="70.839" cy="58.2" r=".45" />
              <path d="m58.71 12.288 1.119-.107-1.117-.063a.496.496 0 0 0-.426-.413l-.107-1.114-.064 1.123a.494.494 0 0 0-.382.424l-1.144.104 1.152.062a.495.495 0 0 0 .394.38l.104 1.148.061-1.146a.501.501 0 0 0 .41-.398zM39.824 24.746l1.119-.107-1.117-.063a.495.495 0 0 0-.426-.413l-.107-1.114-.063 1.123a.494.494 0 0 0-.383.424l-1.144.104 1.152.062a.495.495 0 0 0 .394.38l.104 1.148.062-1.146a.498.498 0 0 0 .409-.398zM81.659 57.684l1.119-.107-1.117-.063a.495.495 0 0 0-.426-.413l-.107-1.114-.063 1.123a.494.494 0 0 0-.382.424l-1.144.104 1.152.062a.495.495 0 0 0 .394.38l.104 1.148.062-1.146a.5.5 0 0 0 .408-.398zM36.044 74.906l1.119-.107-1.117-.063a.496.496 0 0 0-.426-.413l-.107-1.113-.063 1.122a.494.494 0 0 0-.383.424l-1.144.104 1.152.062a.494.494 0 0 0 .394.38l.104 1.148.062-1.146a.499.499 0 0 0 .409-.398zM78.104 66.506l1.119-.107-1.117-.063a.495.495 0 0 0-.426-.413l-.107-1.114-.063 1.122a.494.494 0 0 0-.382.424l-1.144.104 1.152.062a.495.495 0 0 0 .394.38l.104 1.148.062-1.146a.497.497 0 0 0 .408-.397z" />
              <path
                d="M59.568 35.385c-4.667 1.814-9.219 3.433-13.06 4.635-7.805 2.444-29.16 9.06-42.06 17.4l1.08.42c7.86-4.44 12.969-5.835 17.88-7.38 5.34-1.68 22.603-5.72 30.42-7.92a132.174 132.174 0 0 0 9.01-2.9 80.364 80.364 0 0 0-3.27-4.255zm5.702 7.859c-1.13.763-2.077 1.372-2.74 1.756-3.84 2.22-22.561 15-26.82 17.94s-16.08 14.1-19.56 17.34l-.12 1.319c11.22-10.08 14.74-12.566 19.2-15.959 5.52-4.2 16.939-11.97 20.82-14.46 3.71-2.38 7.056-4.569 10.059-6.572l-.147-.247a94.8 94.8 0 0 0-.692-1.117zM82.809 24.72c-5.466 3.204-14.081 7.071-22.439 10.352a72.812 72.812 0 0 1 3.241 4.286c6.57-2.42 13.779-5.668 19.499-9.599-2.725 2.582-11.734 9.315-17.227 13.068.283.461.557.922.822 1.381 8.322-5.569 13.922-9.668 17.185-12.409 4.5-3.78 14.76-12.24 18.66-23.58-6.841 8.701-14.929 13.68-19.741 16.501z"
                fill="#fc3d21"
              />
              <path d="M44.884 54.939c-.885-1.114-2.109-2.606-3.028-3.763a69.968 69.968 0 0 1-3.408-4.671l-1.018.255a71.01 71.01 0 0 0 4.177 5.839c1.112 1.4 2.123 2.527 2.641 3.228.105.142.313.456.594.874l.981-.666a20.01 20.01 0 0 1-.939-1.096zm6.46 5.864c-.727-.688-2.49-1.837-4.325-3.561-.405.278-.814.56-1.224.844 1.185 1.67 2.799 3.721 4.063 4.319 1.904.902 2.417-.72 1.486-1.602zm9.623-24.99c-10.492-13.206-23.309-20.461-28.835-16.07-4.292 3.41-2.53 13.376 3.386 23.845l.909-.31c-5.971-10.2-7.605-19.679-3.557-22.896 5.087-4.042 17.37 3.241 27.558 16.064a76.007 76.007 0 0 1 5.533 7.915c6.012 9.95 7.857 18.948 3.703 22.621-1.271 1.124-5.155 1.565-10.243-.725-.071.089.043.33.132.389 4.392 1.766 8.599 2.439 10.723.752 5.104-4.056 1.183-18.379-9.309-31.585zM15.969 37.38h6.72l5.64 9.57v-7.47c0-.84-1.065-1.935-1.44-2.1h4.65c-.285.075-1.2 1.185-1.2 2.1v10.98c0 .675.975 1.605 1.44 1.965h-6.48l-5.73-9.615v7.56c0 .75.735 1.47 1.5 2.085h-4.95c.705-.3 1.38-1.245 1.44-1.995s0-10.425 0-10.845c0-.915-.885-1.665-1.59-2.235z" />
              <path d="M77.439 52.425h8.94c-.495-.12-1.05-.705-1.35-1.485-.3-.78-5.04-13.56-5.04-13.56H76.59c-.964.694-1.997 1.426-3.1 2.197-.003.028-.006.056-.011.083-.148.9-2.808 10.534-2.97 11.01-.225.66-1.38 1.395-1.845 1.785h4.815c-.48-.54-.87-1.065-.78-1.665.09-.6.36-1.8.36-1.8h4.98c.225.6.393 1.139.48 1.65.105.615-.525 1.305-1.08 1.785zm-3.93-5.355 1.68-5.49 2.22 5.49h-3.9zm-.757-9.142.742-.548h-1.305c.13.12.345.309.563.548zM38.559 50.79c.09-.6.36-1.8.36-1.8h4.98c.225.6.393 1.139.48 1.65.105.615-.525 1.305-1.08 1.785h7.871l.49-.329c-.305-.27-.586-.675-.771-1.156-.3-.78-5.04-13.56-5.04-13.56h-7.8c.375.345 1.455 1.275 1.29 2.28-.147.9-2.808 10.534-2.97 11.01-.225.66-1.38 1.395-1.845 1.785h4.815c-.48-.54-.87-1.065-.78-1.665zm2.49-9.21 2.22 5.49h-3.9l1.68-5.49zM65.748 44.848a614.857 614.857 0 0 1-4.649 3.065c.732.355 1.315.801 1.371 1.377.104 1.082-2.07 1.605-4.035 1.38a4.856 4.856 0 0 1-1.147-.286l-1.238.796c-.425.273-.941.609-1.53.997v1.553c.39-.765 1.243-1.45 1.905-1.485.285-.015 1.275.9 5.355.675 1.98-.109 5.805-2.22 5.745-4.65-.036-1.436-.786-2.556-1.777-3.422zM54.519 48.6v1.582a325 325 0 0 1 1.066-.709 7.884 7.884 0 0 1-1.066-.873zm9.834-4.745a13.67 13.67 0 0 0-1.134-.596c-1.92-.9-3.93-1.065-4.35-2.28-.296-.857.54-1.65 2.58-1.62 2.04.03 3.93 1.245 4.44 1.68v-3.87c-.15.15-.808.905-1.41.78a26.358 26.358 0 0 0-5.37-.54c-2.58.015-4.8 2.009-4.875 4.53-.105 3.525 2.715 4.485 4.305 5.04.164.057.351.118.554.183 1.525-.992 2.731-1.756 3.437-2.163a38.62 38.62 0 0 0 1.823-1.144z" />
            </g>
          </svg>

          <svg
            width="90"
            height="45"
            viewBox="0 0 509 142"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <g clipPath="url(#a)" fill="#fff">
              <path d="M91.991 104.699c1.576 5.961 4.119 8.266 8.613 8.266 4.659 0 7.102-2.799 7.102-8.266V3.2h29.184v101.499c0 14.307-1.856 20.506-9.11 27.762-5.228 5.229-14.871 9.271-27.047 9.271-9.837 0-19.25-3.256-25.253-9.27-5.263-5.273-8.154-10.689-12.672-27.764L44.9 37.033c-1.577-5.961-4.119-8.265-8.613-8.265-4.66 0-7.103 2.798-7.103 8.265v101.5H0v-101.5C0 22.727 1.857 16.527 9.111 9.271 14.337 4.044 23.981 0 36.158 0c9.837 0 19.25 3.257 25.253 9.27 5.263 5.273 8.154 10.689 12.672 27.764l17.908 67.665ZM478.038 138.533 444.334 33.096c-.372-1.164-.723-2.152-1.263-2.811-.926-1.127-2.207-1.719-3.931-1.719-1.723 0-3.004.592-3.931 1.719-.539.658-.891 1.646-1.262 2.811l-33.703 105.437h-30.167l36.815-115.177c1.918-6 4.66-11.094 8.139-14.488C421.002 3.047 428.038 0 439.141 0s18.14 3.047 24.109 8.867c3.479 3.395 6.221 8.488 8.14 14.488l36.814 115.177h-30.166v.001ZM328.878 138.533c19.12 0 28.446-4.062 35.814-11.389 8.153-8.105 12.053-16.973 12.053-30.213 0-11.699-4.283-22.535-10.804-29.019-8.526-8.479-19.116-11.151-36.384-11.151l-24.187-.001c-9.242 0-12.925-1.117-15.839-3.98-2.001-1.964-2.939-4.885-2.939-8.328 0-3.559.857-7.074 3.303-9.475 2.171-2.131 5.13-3.109 10.816-3.109h69.903V3.2H306.05c-19.12 0-28.445 4.063-35.814 11.389-8.152 8.105-12.053 16.972-12.053 30.212 0 11.701 4.283 22.536 10.804 29.019 8.527 8.479 19.116 11.152 36.384 11.152l24.188.002c9.242 0 12.925 1.115 15.839 3.979 2.001 1.965 2.939 4.885 2.939 8.328 0 3.559-.857 7.074-3.302 9.475-2.172 2.131-5.131 3.109-10.817 3.109h-72.094l-27.651-86.509c-1.918-6-4.66-11.094-8.139-14.488C220.363 3.047 213.327 0 202.224 0s-18.14 3.047-24.108 8.867c-3.48 3.395-6.221 8.488-8.139 14.488l-36.815 115.177h30.166l33.704-105.437c.372-1.164.723-2.152 1.263-2.811.926-1.127 2.208-1.719 3.931-1.719 1.723 0 3.004.592 3.931 1.719.54.658.891 1.646 1.262 2.811l33.704 105.437h87.755v.001Z" />
            </g>
            <defs>
              <clipPath id="a">
                <path fill="#fff" d="M0 0h508.204v141.732H0z" />
              </clipPath>
            </defs>
          </svg>
        </div>
        <div className="FancyImage"></div>
        <div className="Wrapper">
          <div className="AstronautImageWrapper">
            <img className="AstronautImage" src={`${Astronaut}`} alt="" />
          </div>
          <div className="Text">
            <Styled.NasaParagraph>{newEmail}</Styled.NasaParagraph>
            <Styled.NasaParagraph isMedium>{dob}</Styled.NasaParagraph>
            <Styled.NasaParagraph isSmall>Astronaut</Styled.NasaParagraph>
          </div>
        </div>
        <p className="ClearanceLevel">Level 5 clearance</p>
      </Styled.Wrapper>

      <form onSubmit={handleNewInfo}>
        <h1>Account information</h1>

        <label htmlFor="Email">Your Email</label>
        <Input 
        onChange={handleNewEmail} 
        AccInfo type="text" 
        placeholder={newEmail} 
        onBlur={lostFocus} 
        readOnly={editEmail} 
        style={editEmail ? {cursor: 'default'} : {cursor: 'text', border: '2px solid rgba(255, 255, 255, 0.7)'}} />
        <svg
          onClick={() => setEditEmail(!editEmail)}
          xmlns="http://www.w3.org/2000/svg"
          viewBox="0 0 528.899 528.899"
          height="24"
          width="24"
          className="Svg"
          fill="#fff"
        >
          <path d="m328.883 89.125 107.59 107.589-272.34 272.34L56.604 361.465l272.279-272.34zm189.23-25.948-47.981-47.981c-18.543-18.543-48.653-18.543-67.259 0l-45.961 45.961 107.59 107.59 53.611-53.611c14.382-14.383 14.382-37.577 0-51.959zM.3 512.69c-1.958 8.812 5.998 16.708 14.811 14.565l119.891-29.069L27.473 390.597.3 512.69z" />
        </svg>

        <label htmlFor="Password">Your Password</label>
        <Input AccInfo type="password" placeholder="Password" readOnly={editPassword} style={editPassword ? {cursor: 'default'} : {cursor: 'text'}} />
        <svg
          onClick={() => setEditPassword(!editPassword)}
          xmlns="http://www.w3.org/2000/svg"
          viewBox="0 0 528.899 528.899"
          height="24"
          width="24"
          className="Svg"
          fill="#fff"
        >
          <path d="m328.883 89.125 107.59 107.589-272.34 272.34L56.604 361.465l272.279-272.34zm189.23-25.948-47.981-47.981c-18.543-18.543-48.653-18.543-67.259 0l-45.961 45.961 107.59 107.59 53.611-53.611c14.382-14.383 14.382-37.577 0-51.959zM.3 512.69c-1.958 8.812 5.998 16.708 14.811 14.565l119.891-29.069L27.473 390.597.3 512.69z" />
        </svg>

        <label htmlFor="DoB">Date of Birth</label>
        <Input AccInfo type="text" placeholder={dob} readOnly={editDoB} style={editDoB ? {cursor: 'default'} : {cursor: 'text'}} />
        <svg
          onClick={() => setEditDoB(!editDoB)}
          xmlns="http://www.w3.org/2000/svg"
          viewBox="0 0 528.899 528.899"
          height="24"
          width="24"
          className="Svg"
          fill="#fff"
        >
          <path d="m328.883 89.125 107.59 107.589-272.34 272.34L56.604 361.465l272.279-272.34zm189.23-25.948-47.981-47.981c-18.543-18.543-48.653-18.543-67.259 0l-45.961 45.961 107.59 107.59 53.611-53.611c14.382-14.383 14.382-37.577 0-51.959zM.3 512.69c-1.958 8.812 5.998 16.708 14.811 14.565l119.891-29.069L27.473 390.597.3 512.69z" />
        </svg>

        <label htmlFor="Occupation">Occupation</label>
        <Input AccInfo type="text" placeholder="Occupation" readOnly={editOccupation} style={editOccupation ? {cursor: 'default'} : {cursor: 'text'}} />
        <svg
          onClick={() => setEditOccupation(!editOccupation)}
          xmlns="http://www.w3.org/2000/svg"
          viewBox="0 0 528.899 528.899"
          height="24"
          width="24"
          className="Svg"
          fill="#fff"
        >
          <path d="m328.883 89.125 107.59 107.589-272.34 272.34L56.604 361.465l272.279-272.34zm189.23-25.948-47.981-47.981c-18.543-18.543-48.653-18.543-67.259 0l-45.961 45.961 107.59 107.59 53.611-53.611c14.382-14.383 14.382-37.577 0-51.959zM.3 512.69c-1.958 8.812 5.998 16.708 14.811 14.565l119.891-29.069L27.473 390.597.3 512.69z" />
        </svg>

        <div className="Upload-Picture">
          <label htmlFor="file-upload" className="custom-file-upload">
            <svg
              xmlns="http://www.w3.org/2000/svg"
              width="32"
              height="32"
              fill="#fff"
              viewBox="0 0 407.51 407.51"
            >
              <path d="m246.596 240.849-21.42 24.555-44.931-63.739a9.405 9.405 0 0 0-8.359-4.18 10.97 10.97 0 0 0-8.359 4.18l-68.963 92.996a12.538 12.538 0 0 0-1.045 12.016 11.494 11.494 0 0 0 9.404 6.792h191.216a11.493 11.493 0 0 0 9.404-6.792 11.494 11.494 0 0 0-1.045-11.494l-39.706-53.29a10.448 10.448 0 0 0-7.837-4.702 9.93 9.93 0 0 0-8.359 3.658zm-37.094 51.722H123.82l48.065-64.784 45.453 64.784h-7.836zm63.739 0h-30.302l-5.224-8.359 16.196-18.286 19.33 26.645zM228.31 212.114c17.601 0 31.869-14.268 31.869-31.869s-14.268-31.869-31.869-31.869-31.869 14.268-31.869 31.869 14.268 31.869 31.869 31.869zm-10.971-31.869c0-6.059 4.912-10.971 10.971-10.971s10.971 4.912 10.971 10.971-4.912 10.971-10.971 10.971-10.971-4.912-10.971-10.971z" />
              <path d="M362.58 113.371 251.82 3.135A10.45 10.45 0 0 0 244.506 0H94.041C65.187 0 41.796 23.391 41.796 52.245v303.02c0 28.854 23.391 52.245 52.245 52.245H313.47c28.854 0 52.245-23.391 52.245-52.245v-234.58a10.458 10.458 0 0 0-3.135-7.314zM256 104.49V36.571l73.665 73.143h-68.441A4.7 4.7 0 0 1 256 104.49zm88.816 250.775c0 17.312-14.035 31.347-31.347 31.347H94.041c-17.312 0-31.347-14.034-31.347-31.347V52.245c0-17.312 14.034-31.347 31.347-31.347h141.061v83.592c0 14.427 11.695 26.122 26.122 26.122h83.592v224.653z" />
            </svg>
            <p>Upload avatar</p>
            <input type="file" accept="image/png, image/jpeg, image.jpg" />
          </label>
        </div>
        <Input
            Submit
            type="submit"
            value="Update"
          />
      </form>
    </Styled.MainWrapper>
  );
};

export default Profile;
